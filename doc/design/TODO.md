
# 项目简介

## 模块化组织整个项目

目前划分的模块有

元脚本执行器
词法分析器
语法分析器
构建管理器
后端宏解析器


## 项目依赖项
文本解析转码库 libiconv1.14 libcharsetdetect
LLVM3.6平台
Lua5.2
flex bison

# 目前需要进行的工作

## 核心任务

1. 项目构建器 Builder的完善
	项目构建目前仅能进行单个文件的编译，要实现类似Java的编译方式，给定一个文件夹，编译好最终程序

2. 元脚本解析器的完善
	添加更多的可用的元脚本命令，控制编译器编译过程，查看中间变量
	希望添加完整的元脚本控制RedApple宏翻译功能

3. 词法分析器的结构优化 ok
	词法分析器结构有些混乱，需要优化结构，整理代码

4. 垃圾回收器的加入
	添加手动垃圾delete指令，和保守的垃圾回收器，先避免内存的泄露再说

5. 自动化项目构建 ok
	考虑如何自动化构建项目成可用状态，尝试使用travis-ci

6. 集成测试 ok
	使用黑盒测试的思路，给定要编译的代码，和其输出的结果，通过编译运行，判断系统工作是否正常

7. 添加扩展包 ok
	使用lua进行功能扩展，提供不同语言特性的分离导入

8. 中间过程的导出 ok
	使用log模块导出中间调试数据，用作EliteShow的展示

9. 添加break语句, 终止循环

10. 添加switch, do while, do until语句


## 次要任务

1. 编译器输入参数的处理，目前输入参数有误时没有提示信息
2. 元脚本解析器的异常处理不足，lua异常没有捕获
3. 大量的测试任务，建议使用GTest库
4. 各平台工具链的整合 ok
5. 各平台运行时库的整合
6. RedApple的对象模型
7. RedApple的反射类的接口 ok
8. 构建脚本太过粗糙，需要改进 ok
9. Builder中提供查找并调用工具链的功能 ok
10. 添加JVM平台的相关支持 （方案待定）
11. 添加continuations（协程）的支持
12. 添加闭包特性
13. 添加函数的柯里化包装
14. 符号重载机制
15. 类型转换机制和泛类型
