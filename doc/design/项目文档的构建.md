项目文档的构建
==============


开源项目为了文档和代码统一，一般需要使用文档构建工具进行文档的统一处理，代码中的注释同时也是重要的文档。

本系统使用doxygen进行文档生成，使用前，请安装对应平台的doxygen工具，并将其添加到系统环境目录中。

## Doxygen文档的构建

由于主项目主要起引导作用，并没有多少实质内容的代码，故不提供文档，各个子项目，分别管理自己的文档。

在每个项目的构建目录下，使用cmake生成makefile后，可以执行文档生成指令：

```
	make doc
```
这样即可在构建目录`build`下，找到html和latex两个版本的文档，推荐使用html的文档，更加方便。


## 注释文档的编写

编写程序时，需要添加对应函数和类的注释，方便其他人阅读理解，在生成文档后，也能形成清晰的函数和类的解释部分，注释格式一般如下：

```
	// 简单的注释
	/**
	 * @brief 预先扫描宏时的初始化，初始化第一趟扫描 
	 */
	void PreMacro();

	// 较复杂的注释
	/**
	 * @brief 添加或替换一条宏  
	 * @details 添加或替换一条宏，如果当前名称存在则替换，没有则添加 
	 * 
	 * @param macro_funcs 一组宏定义数组，类似Lua中函数的定义方式
	 */
	void AddOrReplaceMacros(const FuncReg* macro_funcs);

```

这里，`@brief`是函数的简要说明，一般短小精悍，起到提示函数核心功能的作用。
而`@details`则是函数详细的说明，介绍函数的功能，边界条件，使用方法等。这里甚至可以放置部分示例代码和罗列可用的参数等。
`@param`则表示一个参数，对参数的功能进行详细的阐述。


## 注释的编写原则

注释是为了提示自己和他人，避免遗忘一些函数的使用方法和功能，首先应该编写的是接口和重要类的注释及文档，封装在类内部及成员函数的注释则次之。

注释不在多，关键函数一定要有注释，相反则让人一眼就能看懂的函数，或者从名字就知道如何使用的函数则无需编写或简要编写。


